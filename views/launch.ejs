<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome To Hip Hop Grammar</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <script>
    // Apply saved theme immediately after body is available
    (function() {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      document.body.classList.add(`${savedTheme}-mode`);
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('success') === 'data-deleted') {
        alert('Your data has been successfully deleted.');
        window.history.replaceState({}, document.title, '/');
      }
    })();
  </script>
  <div class="header-row">
    <div class="header-column logo-column">
      <button id="theme-toggle" class="theme-toggle"><span class="theme-icon">â˜€</span></button>
    </div>
    <div class="header-column title-column">
      <div class="title-wrapper">
        <h1>Hip Hop Grammar</h1>
        <h2>Curated Hip Hop Playlists, Powered by Spotify</h2>
      </div>
    </div>
    <div class="header-column logout-column">
      <span class="exclusive-text">Only on <img src="/icon.svg" alt="Spotify" class="exclusive-logo"></span>
    </div>
  </div>

  <div class="launch-content">
    <img src="/images/placeholder.svg" alt="Hip Hop Grammar" class="launch-image">
    <h1>Hip Hop Grammar</h1>
    <h2>An Original Anthology Of Rhythmic American Poetry</h2>
    <h3>How It Works:</h3>
    <p>Use your Spotify login to connect the Hip Hop Grammar app and save curated playlists to your personal library.</p>
    <p>Unlock premium playlist sets, curated by illegible.ink, starting at $5 per set.</p>
    <p>Save your favorites to Spotify with one click and enjoy them anytime.</p>
    <div id="consent-modal" class="consent-modal">
      <p>We use your Spotify account to deliver curated playlists. Accept to continue?</p>
      <button onclick="acceptConsent()" class="spotify-button">Accept</button>
      <button onclick="declineConsent()" class="delete-button">Decline</button>
    </div>
    <a href="/login" class="spotify-button" id="login-button" style="display: none;">Login with Spotify</a>
  </div>

  <footer class="footer">
    <a href="/privacy">Privacy Policy</a>
    <a href="/terms">Terms of Use</a>
    <span>Powered by<a href="https://www.spotify.com" target="_blank"><img src="/logo.svg" alt="Spotify" class="footer-logo"></a></span>
  </footer>

  <script>
    function acceptConsent() {
      document.getElementById('consent-modal').style.display = 'none';
      document.getElementById('login-button').style.display = 'inline-block';
    }
    function declineConsent() {
      window.location.href = 'https://illegible.ink'; // Redirect to external site
    }
  </script>
  <script src="/scripts.js"></script>
</body>
</html>